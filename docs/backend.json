{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Profile",
      "description": "Extends the base Firebase Auth user with application-specific data like roles.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "displayName": {
          "type": "string",
          "description": "User's public display name."
        },
        "role": {
          "type": "string",
          "description": "The authorization role of the user.",
          "enum": [
            "admin",
            "member"
          ]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the user profile was created."
        }
      },
      "required": [
        "email",
        "role",
        "createdAt"
      ]
    },
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user within the Grisalis Flow system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user entity."
        },
        "email": {
          "type": "string",
          "description": "Email address of the user.",
          "format": "email"
        },
        "firstName": {
          "type": "string",
          "description": "First name of the user."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the user."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the user account was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the user account was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email",
        "firstName",
        "lastName",
        "createdAt",
        "updatedAt"
      ]
    },
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a project within the Grisalis Flow system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the project entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the project."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the project."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the project was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the project was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "createdAt",
        "updatedAt"
      ]
    },
    "ProjectMember": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectMember",
      "type": "object",
      "description": "Represents the association between a user and a project, indicating their membership.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the project member relationship."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N ProjectMember)"
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N ProjectMember)"
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the project member relationship was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the project member relationship was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "projectId",
        "userId",
        "createdAt",
        "updatedAt"
      ]
    },
    "Task": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Task",
      "type": "object",
      "description": "Represents a task within a project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the task entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N Task)"
        },
        "sprintId": {
          "type": "string",
          "description": "Reference to Sprint. (Relationship: Sprint 1:N Task). Can be null if the task is not in a sprint."
        },
        "name": {
          "type": "string",
          "description": "Name of the task."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the task."
        },
        "status": {
          "type": "string",
          "description": "Current status of the task (e.g., Backlog, To-do, In progress, Testing, Review, Done)."
        },
        "assigneeId": {
          "type": "string",
          "description": "Reference to User assigned to the task. (Relationship: User 1:N Task)"
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the task was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the task was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "projectId",
        "name",
        "description",
        "status",
        "assigneeId",
        "createdAt",
        "updatedAt"
      ]
    },
    "Sprint": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Sprint",
      "type": "object",
      "description": "Represents a sprint within a project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the sprint entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N Sprint)"
        },
        "name": {
          "type": "string",
          "description": "Name of the sprint."
        },
        "startDate": {
          "type": "string",
          "description": "Start date of the sprint.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "End date of the sprint.",
          "format": "date-time"
        },
        "isActive": {
          "type": "boolean",
          "description": "Indicates whether the sprint is currently active."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the sprint was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the sprint was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "projectId",
        "name",
        "startDate",
        "endDate",
        "isActive",
        "createdAt",
        "updatedAt"
      ]
    },
    "Subtask": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Subtask",
      "type": "object",
      "description": "Represents a subtask associated with a task.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the subtask entity."
        },
        "taskId": {
          "type": "string",
          "description": "Reference to Task. (Relationship: Task 1:N Subtask)"
        },
        "name": {
          "type": "string",
          "description": "Name of the subtask."
        },
        "isCompleted": {
          "type": "boolean",
          "description": "Indicates whether the subtask is completed."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the subtask was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the subtask was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "taskId",
        "name",
        "isCompleted",
        "createdAt",
        "updatedAt"
      ]
    },
    "TaskComment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TaskComment",
      "type": "object",
      "description": "Represents a comment on a task.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the task comment entity."
        },
        "taskId": {
          "type": "string",
          "description": "Reference to Task. (Relationship: Task 1:N TaskComment)"
        },
        "userId": {
          "type": "string",
          "description": "Reference to User who created the comment. (Relationship: User 1:N TaskComment)"
        },
        "comment": {
          "type": "string",
          "description": "The actual comment text."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the task comment was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the task comment was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "taskId",
        "userId",
        "comment",
        "createdAt",
        "updatedAt"
      ]
    },
    "Attachment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Attachment",
      "type": "object",
      "description": "Represents an attachment associated with a task.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the attachment entity."
        },
        "taskId": {
          "type": "string",
          "description": "Reference to Task. (Relationship: Task 1:N Attachment)"
        },
        "filename": {
          "type": "string",
          "description": "Original filename of the attachment."
        },
        "filePath": {
          "type": "string",
          "description": "Path to the stored attachment file."
        },
        "fileType": {
          "type": "string",
          "description": "MIME type of the attachment."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the attachment was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the attachment was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "taskId",
        "filename",
        "filePath",
        "fileType",
        "createdAt",
        "updatedAt"
      ]
    },
    "Bug": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Bug",
      "type": "object",
      "description": "Represents a bug reported for a project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the bug entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N Bug)"
        },
        "taskId": {
          "type": "string",
          "description": "Reference to Task. (Relationship: Task 1:N Bug).  Can be null if not directly related to a task."
        },
        "severity": {
          "type": "string",
          "description": "Severity level of the bug (e.g., Critical, High, Medium, Low)."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the bug."
        },
        "reproductionSteps": {
          "type": "string",
          "description": "Steps to reproduce the bug."
        },
        "evidence": {
          "type": "string",
          "description": "Additional evidence or information related to the bug (e.g., screenshots, logs)."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the bug was reported.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the bug was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "projectId",
        "severity",
        "description",
        "reproductionSteps",
        "evidence",
        "createdAt",
        "updatedAt"
      ]
    },
    "TimeEntry": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TimeEntry",
      "type": "object",
      "description": "Represents a time entry logged by a user for a specific task.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the time entry entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N TimeEntry)"
        },
        "taskId": {
          "type": "string",
          "description": "Reference to Task. (Relationship: Task 1:N TimeEntry)"
        },
        "startTime": {
          "type": "string",
          "description": "Start time of the time entry.",
          "format": "date-time"
        },
        "endTime": {
          "type": "string",
          "description": "End time of the time entry.",
          "format": "date-time"
        },
        "duration": {
          "type": "number",
          "description": "Duration of the time entry in minutes."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the time entry was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the time entry was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "taskId",
        "startTime",
        "endTime",
        "duration",
        "createdAt",
        "updatedAt"
      ]
    },
    "WikiPage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WikiPage",
      "type": "object",
      "description": "Represents a wiki page within the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the wiki page entity."
        },
        "title": {
          "type": "string",
          "description": "Title of the wiki page."
        },
        "slug": {
          "type": "string",
          "description": "URL-friendly slug for the wiki page."
        },
        "content": {
          "type": "string",
          "description": "Content of the wiki page (e.g., Markdown or HTML)."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the wiki page was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the wiki page was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "title",
        "slug",
        "content",
        "createdAt",
        "updatedAt"
      ]
    },
    "Notification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Notification",
      "type": "object",
      "description": "Represents a notification for a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the notification entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Notification)"
        },
        "message": {
          "type": "string",
          "description": "Message content of the notification."
        },
        "type": {
          "type": "string",
          "description": "Type of notification (e.g., task_assigned, comment_added, status_changed, bug_critical)."
        },
        "isRead": {
          "type": "boolean",
          "description": "Indicates whether the notification has been read by the user."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the notification was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the notification was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "message",
        "type",
        "isRead",
        "createdAt",
        "updatedAt"
      ]
    },
    "AuditLog": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AuditLog",
      "type": "object",
      "description": "Represents an audit log entry for tracking changes within the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the audit log entry."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User who performed the action. (Relationship: User 1:N AuditLog)"
        },
        "action": {
          "type": "string",
          "description": "Description of the action performed (e.g., task_moved, project_modified, user_created)."
        },
        "entityType": {
          "type": "string",
          "description": "Type of entity affected by the action (e.g., Task, Project, User)."
        },
        "entityId": {
          "type": "string",
          "description": "Identifier of the entity affected by the action."
        },
        "oldValue": {
          "type": "string",
          "description": "Previous value of the entity attribute that was changed (JSON format)."
        },
        "newValue": {
          "type": "string",
          "description": "New value of the entity attribute that was changed (JSON format)."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp indicating when the action was performed.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "action",
        "entityType",
        "entityId",
        "oldValue",
        "newValue",
        "timestamp"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/userProfiles/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores application-specific user data, including roles."
    },
    "/projects/{projectId}": {
      "schema": {
        "$ref": "#/entities/Project"
      },
      "description": "Stores project information."
    },
    "/projects/{projectId}/members/{memberId}": {
      "schema": {
        "$ref": "#/entities/ProjectMember"
      },
      "description": "Associates users with projects."
    },
    "/projects/{projectId}/tasks/{taskId}": {
      "schema": {
        "$ref": "#/entities/Task"
      },
      "description": "Stores tasks within a project."
    },
    "/projects/{projectId}/tasks/{taskId}/comments/{commentId}": {
      "schema": {
        "$ref": "#/entities/TaskComment"
      },
      "description": "Stores comments on tasks."
    },
    "/projects/{projectId}/tasks/{taskId}/attachments/{attachmentId}": {
      "schema": {
        "$ref": "#/entities/Attachment"
      },
      "description": "Stores attachments for tasks."
    },
    "/projects/{projectId}/tasks/{taskId}/subtasks/{subtaskId}": {
      "schema": {
        "$ref": "#/entities/Subtask"
      },
      "description": "Stores subtasks within a task."
    },
    "/projects/{projectId}/sprints/{sprintId}": {
      "schema": {
        "$ref": "#/entities/Sprint"
      },
      "description": "Stores sprints within a project."
    },
    "/projects/{projectId}/bugs/{bugId}": {
      "schema": {
        "$ref": "#/entities/Bug"
      },
      "description": "Stores bug reports for a project."
    },
    "/timeEntries/{timeEntryId}": {
      "schema": {
        "$ref": "#/entities/TimeEntry"
      },
      "description": "Stores time entries for tasks."
    },
    "/wiki/{wikiPageId}": {
      "schema": {
        "$ref": "#/entities/WikiPage"
      },
      "description": "Stores wiki pages."
    },
    "/users/{userId}/notifications/{notificationId}": {
      "schema": {
        "$ref": "#/entities/Notification"
      },
      "description": "Stores user-specific notifications."
    },
    "/auditLogs/{auditLogId}": {
      "schema": {
        "$ref": "#/entities/AuditLog"
      },
      "description": "Stores audit logs for important system events."
    }
  }
}

    